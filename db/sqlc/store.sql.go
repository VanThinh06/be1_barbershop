// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.20.0
// source: store.sql

package db

import (
	"context"

	"github.com/google/uuid"
	"github.com/lib/pq"
	null "gopkg.in/guregu/null.v4"
)

const createStore = `-- name: CreateStore :one
INSERT INTO store (
    name_id,
    name_store,
    location,
    address,
    image,
    list_image,
    manager_id,
    employee_id,
    status
  )
VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9)
RETURNING id, name_id, name_store, location, address, image, list_image, manager_id, employee_id, status, created_at, update_at, boss
`

type CreateStoreParams struct {
	NameID     string      `json:"name_id"`
	NameStore  string      `json:"name_store"`
	Location   float32     `json:"location"`
	Address    string      `json:"address"`
	Image      null.String `json:"image"`
	ListImage  []string    `json:"list_image"`
	ManagerID  []string    `json:"manager_id"`
	EmployeeID []string    `json:"employee_id"`
	Status     int32       `json:"status"`
}

func (q *Queries) CreateStore(ctx context.Context, arg CreateStoreParams) (Store, error) {
	row := q.db.QueryRowContext(ctx, createStore,
		arg.NameID,
		arg.NameStore,
		arg.Location,
		arg.Address,
		arg.Image,
		pq.Array(arg.ListImage),
		pq.Array(arg.ManagerID),
		pq.Array(arg.EmployeeID),
		arg.Status,
	)
	var i Store
	err := row.Scan(
		&i.ID,
		&i.NameID,
		&i.NameStore,
		&i.Location,
		&i.Address,
		&i.Image,
		pq.Array(&i.ListImage),
		pq.Array(&i.ManagerID),
		pq.Array(&i.EmployeeID),
		&i.Status,
		&i.CreatedAt,
		&i.UpdateAt,
		&i.Boss,
	)
	return i, err
}

const deleteStore = `-- name: DeleteStore :one
DELETE FROM store
WHERE id = $1
RETURNING id, name_id, name_store, location, address, image, list_image, manager_id, employee_id, status, created_at, update_at, boss
`

func (q *Queries) DeleteStore(ctx context.Context, id uuid.UUID) (Store, error) {
	row := q.db.QueryRowContext(ctx, deleteStore, id)
	var i Store
	err := row.Scan(
		&i.ID,
		&i.NameID,
		&i.NameStore,
		&i.Location,
		&i.Address,
		&i.Image,
		pq.Array(&i.ListImage),
		pq.Array(&i.ManagerID),
		pq.Array(&i.EmployeeID),
		&i.Status,
		&i.CreatedAt,
		&i.UpdateAt,
		&i.Boss,
	)
	return i, err
}

const getListStore = `-- name: GetListStore :many
SELECT id, name_id, name_store, location, address, image, list_image, manager_id, employee_id, status, created_at, update_at, boss
FROM store
WHERE 
	 $1 = ANY (manager_id)
LIMIT $2 OFFSET $3
`

type GetListStoreParams struct {
	ManagerID string `json:"manager_id"`
	Limit     int32    `json:"limit"`
	Offset    int32    `json:"offset"`
}

func (q *Queries) GetListStore(ctx context.Context, arg GetListStoreParams) ([]Store, error) {
	rows, err := q.db.QueryContext(ctx, getListStore, arg.ManagerID, arg.Limit, arg.Offset)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []Store{}
	for rows.Next() {
		var i Store
		if err := rows.Scan(
			&i.ID,
			&i.NameID,
			&i.NameStore,
			&i.Location,
			&i.Address,
			&i.Image,
			pq.Array(&i.ListImage),
			pq.Array(&i.ManagerID),
			pq.Array(&i.EmployeeID),
			&i.Status,
			&i.CreatedAt,
			&i.UpdateAt,
			&i.Boss,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const getStore = `-- name: GetStore :one
SELECT id, name_id, name_store, location, address, image, list_image, manager_id, employee_id, status, created_at, update_at, boss
FROM store
WHERE id = $1
LIMIT 1
`

func (q *Queries) GetStore(ctx context.Context, id uuid.UUID) (Store, error) {
	row := q.db.QueryRowContext(ctx, getStore, id)
	var i Store
	err := row.Scan(
		&i.ID,
		&i.NameID,
		&i.NameStore,
		&i.Location,
		&i.Address,
		&i.Image,
		pq.Array(&i.ListImage),
		pq.Array(&i.ManagerID),
		pq.Array(&i.EmployeeID),
		&i.Status,
		&i.CreatedAt,
		&i.UpdateAt,
		&i.Boss,
	)
	return i, err
}

const updateStore = `-- name: UpdateStore :one
UPDATE store
set name_id = $2,
  name_store = $3,
  location = $4,
  address =$5,
  image =$6,
  list_image =$7,
  manager_id = $8,
  employee_id =$9,
  status =$10,
  update_at = $11
WHERE id = $1
RETURNING id, name_id, name_store, location, address, image, list_image, manager_id, employee_id, status, created_at, update_at, boss
`

type UpdateStoreParams struct {
	ID         uuid.UUID   `json:"id"`
	NameID     string      `json:"name_id"`
	NameStore  string      `json:"name_store"`
	Location   float32     `json:"location"`
	Address    string      `json:"address"`
	Image      null.String `json:"image"`
	ListImage  []string    `json:"list_image"`
	ManagerID  []string    `json:"manager_id"`
	EmployeeID []string    `json:"employee_id"`
	Status     int32       `json:"status"`
	UpdateAt   null.Time   `json:"update_at"`
}

func (q *Queries) UpdateStore(ctx context.Context, arg UpdateStoreParams) (Store, error) {
	row := q.db.QueryRowContext(ctx, updateStore,
		arg.ID,
		arg.NameID,
		arg.NameStore,
		arg.Location,
		arg.Address,
		arg.Image,
		pq.Array(arg.ListImage),
		pq.Array(arg.ManagerID),
		pq.Array(arg.EmployeeID),
		arg.Status,
		arg.UpdateAt,
	)
	var i Store
	err := row.Scan(
		&i.ID,
		&i.NameID,
		&i.NameStore,
		&i.Location,
		&i.Address,
		&i.Image,
		pq.Array(&i.ListImage),
		pq.Array(&i.ManagerID),
		pq.Array(&i.EmployeeID),
		&i.Status,
		&i.CreatedAt,
		&i.UpdateAt,
		&i.Boss,
	)
	return i, err
}
